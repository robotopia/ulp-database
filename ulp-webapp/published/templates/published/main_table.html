{% extends 'published/main.html' %}

{% load static %}

{% block body %}

<h1 class="visually-hidden">LPT parameters</h1>

<nav class="navbar navbar-expand-lg">
  <div class="container-fluid">
    <div class="collapse navbar-collapse">
      <div class="navbar-nav">
        {% for parameter_set in parameter_sets %}
        {% if parameter_set == selected_parameter_set %}
        <span class="nav-link nav-link-active" style="cursor: default;">{{ parameter_set }}</span>
        {% else %}
        <a class="nav-link" href="{% url 'parameter_set_table_view' pk=parameter_set.pk %}">{{ parameter_set }}</a>
        {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
</nav>

<table class="table">
    <tr>
        <th>LPT</th>
        <th>Progenitor</th>
        {% for parameter in parameters %}
        <th>
            {{ parameter.name }}
            {% if parameter.unicode_unit %}
            <br>
            ({{ parameter.unicode_unit }})
            {% endif %}
        </th>
        {% endfor %}
    </tr>
    {% for ulp, parameters in rows.items %}
    <tr>
        <td><a href="{% url 'ulp' pk=ulp.pk %}">{{ ulp }}</a></td>
        <td>{% for progenitor_claim in ulp.progenitor_claims.all %}{% if not forloop.first %}<br>{% endif %}{{ progenitor_claim|default:'' }}<sup><a href="{% url 'references_view' %}#ref_{{ progenitor_claim.article.pk }}">[ref]</a></sup>{% endfor %}</td>
        {% for parameter, measurements in parameters.items %}
        <td>{% for measurement in measurements %}{% if not forloop.first %}<br>{% endif %}{{ measurement.formatted_quantity|safe }} {% if measurement.article %}<sup><a href="{% url 'references_view' %}#ref_{{ measurement.article.pk }}">[ref]</a></sup>{% endif %}{% endfor %}</td>
        {% endfor %}
    </tr>
    {% endfor %}
</table>

{% endblock %}
